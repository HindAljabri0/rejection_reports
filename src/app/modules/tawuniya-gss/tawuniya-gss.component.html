<div class="animate__animated animate__faster animate__fadeIn block-card">
    <div class="block-header">
        <p>Tawuniya GSS Reports</p>
    </div>

    <div class="block-filter-panel">
        <div class="row small-gutter">
            <div class="col-4">
                <div class="form-group" [ngClass]="{'has-error' : fromDate.invalid}">
                    <div class="date-picker">
                        <mat-label>From Date</mat-label>
                        <input [matDatepicker]="filterFromDate" [formControl]="fromDate" class="form-control"
                            placeholder="Select From date">
                        <mat-datepicker-toggle [for]="filterFromDate"></mat-datepicker-toggle>
                        <mat-datepicker #filterFromDate startView="multi-year"></mat-datepicker>
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="form-group" [ngClass]="{'has-error' : toDate.invalid}">
                    <div class="date-picker">
                        <mat-label>To Date</mat-label>
                        <input [matDatepicker]="filtertoDate" [formControl]="toDate" class="form-control"
                            placeholder="Select To date">
                        <mat-datepicker-toggle [for]="filtertoDate"></mat-datepicker-toggle>
                        <mat-datepicker #filtertoDate startView="multi-year"></mat-datepicker>
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="form-group">
                    <label class="control-label">&nbsp;</label>
                    <button type="button" mat-flat-button color="primary" (click)="searchQuerySummary()">Search</button>
                </div>
            </div>
        </div>
    </div>
    <ng-scrollbar smoothScroll [shown]="'hover'" [compact]="true" [trackX]="true">
        <div class="fixed-height fixed-height-sm">
            <table class="primary-grid sticky-header" cellpadding="0" cellspacing="0" border="0">
                <thead>
                    <tr>
                        <th>Ref. No.</th>
                        <th>Loss Month</th>
                        <th class="text-center">No. of Claims</th>
                        <th>Gross</th>
                        <th>Discount</th>
                        <th>Patient Share</th>
                        <th>Net</th>
                        <th>Net Vat</th>
                        <th>Payable</th>
                        <th>Status</th>
                        <th width="10"></th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngFor="let data of initiateModel">
                        <tr *ngIf="data != null">
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.gssReferenceNumber }}</td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.lossMonth }}</td>
                            <td class="row-click"  (click)="openDetailView(data)" class="text-center">{{ data?.totalNumberOfClaim }}</td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.totalGross?.value }} <span class="currency">{{
                                    data?.totalGross?.currencyCode }}</span></td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.totalDiscount?.value }} <span class="currency">{{
                                    data?.totalDiscount?.currencyCode }}</span></td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.totalPatientShare?.value }} <span class="currency">{{
                                    data?.totalPatientShare?.currencyCode }}</span></td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.totalNet?.value }} <span class="currency">{{
                                    data?.totalNet?.currencyCode }}</span></td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.totalNetVat?.value }} <span class="currency">{{
                                    data?.totalNetVat?.currencyCode }}</span></td>
                            <td class="row-click"  (click)="openDetailView(data)">{{ data?.totalNetPayable?.value }} <span class="currency">{{
                                    data?.totalNetPayable?.currencyCode }}</span></td>
                            <td class="row-click"  (click)="openDetailView(data)">
                                <span class="status-badge size-sm primary" [ngClass]="{'primary': data?.status?.toLowerCase() === 'new', 
                                'success' : data?.status?.toLowerCase() === 'signed',
                                'danger' : data?.status?.toLowerCase() === 'cancelled' }">{{data?.status | titlecase}}</span>
                            </td>
                            <td class="actions">
                                <button type="button" mat-icon-button class="text-primary">
                                    <mat-icon>file_download</mat-icon>
                                </button>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </table>
        </div>
    </ng-scrollbar>
    <button mat-fab color="primary" class="page-fab" (click)="openGenerateReportDialog()">
        <mat-icon>add</mat-icon>
    </button>
</div>