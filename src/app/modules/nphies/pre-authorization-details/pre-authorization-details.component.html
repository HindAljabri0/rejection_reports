<div class="row">
  <div class="col-3">
    <div class="inline-label-table">
      <label>Transaction Date</label>
      <p class="text-primary">{{data.transactionLogDate | date : 'dd-MM-yyyy hh:mm'}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Date Ordered</label>
      <p class="text-primary">{{data.preAuthorizationInfo.dateOrdered}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Outcome</label>
      <p class="text-primary">{{data.outcome}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Status</label>
      <p class="text-primary">{{data.status}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Type</label>
      <p class="text-primary">{{data.preAuthorizationInfo.typeName}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Insurer</label>
      <p class="text-primary">{{data.insurer}} ({{data.payerNphiesId}})</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>PreAuth Ref. No.</label>
      <p class="text-primary">{{data.preAuthRefNo}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>PreAuth Period</label>
      <p class="text-primary">{{data.preAuthStartDate | date:'dd/MM/yyyy'}} - {{data.preAuthEndDate | date:'dd/MM/yyyy'}} [ {{period}} ]</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Sub Type</label>
      <p class="text-primary">
        <span
          *ngIf="data.preAuthorizationInfo && data.preAuthorizationInfo.subType">{{data.preAuthorizationInfo.subTypeName}}</span>
        <span *ngIf="data.preAuthorizationInfo && !data.preAuthorizationInfo.subType">-</span>
      </p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Offline Eligibility ID</label>
      <p class="text-primary">{{data.preAuthorizationInfo.eligibilityOfflineId}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Offline Eligibility Date</label>
      <p class="text-primary">{{data.preAuthorizationInfo.eligibilityOfflineDate | date: 'dd-MM-yyyy'}}</p>
    </div>
  </div>
  <div class="col-3">
    <div class="inline-label-table">
      <label>Eligibility Response ID</label>
      <p class="text-primary">{{data.preAuthorizationInfo.eligibilityResponseId}}</p>
    </div>
  </div>
  <div class="col-9">
    <div class="inline-label-table">
      <label>Disposition</label>
      <p class="text-primary">{{data.disposition}}</p>
    </div>
  </div>

</div>

<!-- payment info start -->
<!-- Benefit, Submitted, Eligible, Eligible %, Patient Copay, Deductible, -->
<div class="p-14 bg-off-white ml-n14 mr-n14 mt-14" *ngIf="data.responseDecision">
  <h5 class="align-self-center medium pb-2 text-primary">Total</h5>
  <div class="row">
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Benefit Amount:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.benefitTotalValue">{{data.responseDecision.benefitTotalValue}} <span
              class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.benefitTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Submitted Amount:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.submittedTotalValue">{{data.responseDecision.submittedTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.submittedTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Eligible Amount:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.eligibleTotalValue">{{data.responseDecision.eligibleTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.eligibleTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Eligible %:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.eligpercentTotalValue">{{data.responseDecision.eligpercentTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.eligpercentTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Patient Co-Payment:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.copayTotalValue">{{data.responseDecision.copayTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.copayTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Deductible:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.deductibleTotalValue">{{data.responseDecision.deductibleTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.deductibleTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Unallocated Deductible:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.unallocdeductTotalValue">{{data.responseDecision.unallocdeductTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.unallocdeductTotalValue">-</span>
        </p>
      </div>
    </div>
    <div class="col-auto">
      <div class="inline-label-table auto-width">
        <label>Tax:</label>
        <p class="text-primary">
          <span *ngIf="data.responseDecision.texTotalValue">{{data.responseDecision.texTotalValue}} <span class="currency">SR</span></span>
          <span *ngIf="!data.responseDecision.texTotalValue">-</span>
        </p>
      </div>
    </div>

  </div>
</div>
<!-- payment info end -->

<!-- error section start -->
<h5 class="form-title" *ngIf="data.errors">
  Errors
</h5>
<div class="table-responsive" *ngIf="data.errors">
  <table class="primary-grid no-borders manual-row-color horizontal-borders" cellpadding="0" cellspacing="0" border="0">
    <thead>
      <tr>
        <th class="header-cell-error">Code</th>
        <th class="header-cell-error">Message</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let err of data.errors">
        <td>{{err.code}}</td>
        <td>{{err.error}}</td>
      </tr>
    </tbody>
  </table>
</div>
<!-- error section end -->

<!-- beneficiary section start -->
<h5 class="form-title" *ngIf="data.beneficiary">
  Beneficiary Details
</h5>
<div class="row" *ngIf="data.beneficiary">
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Name</div>
      <p class="form-control-static">{{data.beneficiary.beneficiaryName}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Document</div>
      <p class="form-control-static">{{data.beneficiary.documentType}} ({{data.beneficiary.beneficiaryId}})</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Gender</div>
      <p class="form-control-static">{{data.beneficiary.gender}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Date of Birth</div>
      <p class="form-control-static">{{data.beneficiary.dob | date: 'dd-MM-yyyy'}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Contact No.</div>
      <p class="form-control-static">{{data.beneficiary.contactNumber}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Email</div>
      <p class="form-control-static">{{data.beneficiary.email}}</p>
    </div>
  </div>
</div>
<!-- beneficiary details end -->

<!-- process notes start -->
<h5 class="form-title" *ngIf="data.processNotes">
  Process Notes
</h5>
<div class="table-responsive" *ngIf="data.processNotes">
  <table class="primary-grid" cellpadding="0" cellspacing="0" border="0">
    <thead>
      <tr>
        <th>Number</th>
        <th>Type</th>
        <th>Text</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let note of data.processNotes">
        <td>{{note.number}}</td>
        <td>{{note.type}}</td>
        <td>{{note.text}}</td>
      </tr>
    </tbody>
  </table>
</div>
<!-- process notes end -->

<!-- Items start -->
<h5 class="form-title">
  Items
</h5>
<div class="table-responsive">
  <table class="primary-grid manual-row-color no-borders">
    <thead>
      <tr>
        <th width="10"></th>
        <th>Type</th>
        <th>Code - Description</th>
        <th>Net</th>
        <th>Approved Net</th>
        <th>Status</th>
        <th>Reason</th>
        <th>Note No.</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let item of data.items; let i = index">
        <tr>
          <td class="text-primary text-center row-click" (click)="toggleItem(i)" width="10">
            <mat-icon *ngIf="currentSelectedItem!=i" class="size-21">add_circle_outline</mat-icon>
            <mat-icon *ngIf="currentSelectedItem==i" class="size-21">remove_circle_outline</mat-icon>
          </td>
          <td class="row-click" (click)="toggleItem(i)">{{item.typeName}}</td>
          <td class="row-click" (click)="toggleItem(i)">{{item.itemCode}} - {{item.itemDescription}}</td>
          <td class="text-nowrap row-click" (click)="toggleItem(i)">{{item.net}} <span class="currency">SR</span></td>
          <td class="text-nowrap row-click" (click)="toggleItem(i)"><span *ngIf="item.itemDecision">{{item.itemDecision.benefitValue}} </span> <span class="currency">SR</span></td>
          <td class="row-click" (click)="toggleItem(i)"><span
              *ngIf="item.itemDecision">{{item.itemDecision.status}}</span></td>
          <td class="row-click" (click)="toggleItem(i)"><span
              *ngIf="item.itemDecision">{{item.itemDecision.benefitReason}}</span></td>
          <td class="row-click" (click)="toggleItem(i)">-</td>
        </tr>
        <tr *ngIf="currentSelectedItem == i">
          <td colspan="9">
            <div class="box mb-2" *ngIf="item.itemDecision">
              <h5 class="align-self-center medium pb-2">Adjudication</h5>
              <div class="row">
                <!-- Benefit, Submitted, Eligible, Eligible %, Patient Copay, Deductible, Unallocated Deductible, Tax (display '-' when null)  -->
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Benefit Amount:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.benefitValue">{{item.itemDecision.benefitValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.benefitValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Submitted Amount:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.submittedValue">{{item.itemDecision.submittedValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.submittedValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Eligible Amount:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.eligibleValue">{{item.itemDecision.eligibleValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.eligibleValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Eligible %:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.eligpercentValue">{{item.itemDecision.eligpercentValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.eligpercentValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Patient Co-Payment:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.copayValue">{{item.itemDecision.copayValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.copayValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Deductible:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.deductibleValue">{{item.itemDecision.deductibleValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.deductibleValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Unallocated Deductible:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.unallocdeductValue">{{item.itemDecision.unallocdeductValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.unallocdeductValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Tax:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.texValue">{{item.itemDecision.texValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.texValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Rejected:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.texValue">{{item.itemDecision.rejectedValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.texValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Patient Share:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.texValue">{{item.itemDecision.patientShareValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.texValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Discount:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.texValue">{{item.itemDecision.discountValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.texValue">-</span>
                    </p>
                  </div>
                </div>
                <div class="col-2">
                  <div class="inline-label-table auto-width">
                    <label>Approved Quantity:</label>
                    <p class="text-primary">
                      <span *ngIf="item.itemDecision.texValue">{{item.itemDecision.approvedQuantityValue}} <span
                          class="currency">SR</span></span>
                      <span *ngIf="!item.itemDecision.texValue">-</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="box mb-2">
              <h5 class="align-self-center medium pb-2">Item Info</h5>
              <div class="row">
                <div class="col-4">
                  <table class="inline-label-table">
                    <tbody>
                      <tr>
                        <td class="label">Quantity</td>
                        <td>{{item.quantity}}</td>
                      </tr>
                      <tr>
                        <td class="label">Discount(%)</td>
                        <td>{{item.discount}} %</td>
                      </tr>
                      <tr>
                        <td class="label">Tax(%)</td>
                        <td>{{item.taxPercent}} %</td>
                      </tr>
                      <tr>
                        <td class="label">Patient Share(%)</td>
                        <td>{{item.patientSharePercent}} %</td>
                      </tr>
                      <tr>
                        <td class="label">Is Package?</td>
                        <td>
                          <span *ngIf="item.isPackage === 1">Yes</span>
                          <span *ngIf="item.isPackage === 2">No</span>
                        </td>
                      </tr>
                      <tr>
                        <td class="label">Body Site</td>
                        <td>{{item.bodySiteName}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-4">
                  <table class="inline-label-table">
                    <tbody>
                      <tr>
                        <td class="label">Unit Price</td>
                        <td>{{item.unitPrice}} <span class="currency">SR</span></td>
                      </tr>
                      <tr>
                        <td class="label">Factor</td>
                        <td>{{item.factor}}</td>
                      </tr>
                      <tr>
                        <td class="label">Tax</td>
                        <td>{{item.tax}} <span class="currency">SR</span></td>
                      </tr>
                      <tr>
                        <td class="label">Patient Share</td>
                        <td>{{item.patientShare}} <span class="currency">SR</span></td>
                      </tr>
                      <tr>
                        <td class="label">Payer Share</td>
                        <td>{{item.payerShare}} <span class="currency">SR</span></td>
                      </tr>
                      <tr>
                        <td class="label">Sub Site</td>
                        <td>{{item.subSiteName}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="col-4">
                  <table class="inline-label-table">
                    <tbody>
                      <tr>
                        <td class="label">Start Date</td>
                        <td>{{item.startDate}}</td>
                      </tr>
                      <tr>
                        <td class="label">Non Standard Code</td>
                        <td>{{item.nonStandardCode}}</td>
                      </tr>
                      <tr>
                        <td class="label">Display</td>
                        <td>{{item.nonStandardDesc}}</td>
                      </tr>
                      <tr>
                        <td class="label">Supporting Info</td>
                        <td>{{item.supportingInfoNames}}</td>
                      </tr>
                      <tr>
                        <td class="label">Diagnosis</td>
                        <td>{{item.diagnosisNames}}</td>
                      </tr>
                      <tr>
                        <td class="label">Care Teams</td>
                        <td>{{item.careTeamNames}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="box" *ngIf="item.itemDetails && item.itemDetails.length > 0">
              <h5 class="align-self-center medium pb-2">Item Detail</h5>
              <table class="primary-grid manual-row-color claim-view-table no-borders">
                <thead>
                  <tr>
                    <th>Seq.</th>
                    <th>Type</th>
                    <th>Code - Description</th>
                    <th>Non Standard Code</th>
                    <th>Display</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let d of item.itemDetails; let di = index">
                    <td class="row-click">{{d.sequence}}</td>
                    <td class="row-click">{{d.typeName}}</td>
                    <td class="row-click">{{d.code}} - {{d.description}}</td>
                    <td class="row-click">{{d.nonStandardCode}}</td>
                    <td class="row-click">{{d.nonStandardDesc}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </td>
        </tr>
      </ng-container>

    </tbody>
  </table>
</div>
<!-- Items end -->

<!-- Care Teams start -->
<h5 class="form-title">
  Care Teams
</h5>
<div class="table-responsive">
  <table class="primary-grid" cellpadding="0" cellspacing="0" border="0">
    <thead>
      <tr>
        <th>Sequence</th>
        <th>Practitioner</th>
        <th>Practitioner Role</th>
        <th>Care Team Role</th>
        <th>Speciality</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let careTeam of data.careTeam">
        <td>{{careTeam.sequence}}</td>
        <td>{{careTeam.practitionerName}}</td>
        <td>{{careTeam.practitionerRoleName}}</td>
        <td>{{careTeam.careTeamRoleName}}</td>
        <td>{{careTeam.speciality}}</td>
      </tr>
    </tbody>
  </table>
</div>
<!-- Care Teams end -->

<!-- Diagnosis start -->
<h5 class="form-title">
  Diagnosis
</h5>
<div class="table-responsive">
  <table class="primary-grid" cellpadding="0" cellspacing="0" border="0">
    <thead>
      <tr>
        <th>Sequence</th>
        <th>Type</th>
        <th>Code - Description</th>
        <th>On Admission</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="data.diagnosis.length === 0">
        <td colspan="5">
          <app-empty-state [className]="'size-sm'" message='No Diagnosis found!'></app-empty-state>
        </td>
      </tr>
      <ng-container *ngIf="data.diagnosis.length > 0">
        <tr *ngFor="let diagnosis of data.diagnosis">
          <td>{{diagnosis.sequence}}</td>
          <td>{{diagnosis.typeName}}</td>
          <td>{{diagnosis.diagnosisCode}} - {{diagnosis.diagnosisDescription}}</td>
          <td>{{diagnosis.onAdmissionName}}</td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
<!-- Diagnosis end -->

<!-- Vision prescription start -->
<h5 class="form-title" *ngIf="data.visionPrescription">
  Vision Prescription
</h5>
<div class="row" *ngIf="data.visionPrescription">
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Date Written</div>
      <p class="form-control-static">{{data.visionPrescription.dateWritten}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Prescriber</div>
      <p class="form-control-static">{{data.visionPrescription.prescriberName}}</p>
    </div>
  </div>
</div>
<div class="box" *ngIf="data.visionPrescription">
  <h5 class="d-flex align-items-center mb-3">
    <strong class="medium">Lens Specifications</strong>
  </h5>
  <div class="table-responsive">
    <table class="primary-grid manual-row-color no-borders">
      <thead>
        <tr>
          <th>Sequence</th>
          <th>Product</th>
          <th>Eye</th>
          <th>Sphere</th>
          <th>Cylinder</th>
          <th>Axis</th>
          <th>Add</th>
          <th>Power</th>
          <th>Back Curve</th>
          <th>Diameter</th>
          <th>Duration</th>
          <th>Color</th>
          <th>Brand</th>
          <th>Prism</th>
          <th width="10">Notes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="data.visionPrescription.lensSpecifications.length === 0">
          <td colspan="5">
            <app-empty-state [className]="'size-sm'" message='No Lens Specifications found!'></app-empty-state>
          </td>
        </tr>
        <ng-container *ngIf="data.visionPrescription.lensSpecifications.length > 0">
          <tr *ngFor="let visionSpecification of data.visionPrescription.lensSpecifications">
            <td>{{visionSpecification.sequence}}</td>
            <td>{{visionSpecification.productName}}</td>
            <td>{{visionSpecification.eye | titlecase}} <span *ngIf="visionSpecification.eye">Eye</span></td>
            <td>{{visionSpecification.sphere}}</td>
            <td>{{visionSpecification.cylinder}}</td>
            <td>{{visionSpecification.axis}}</td>
            <td>{{visionSpecification.multifocalPower}}</td>
            <td>{{visionSpecification.lensPower}}</td>
            <td>{{visionSpecification.lensBackCurve}}</td>
            <td>{{visionSpecification.lensDiameter}}</td>
            <td>{{visionSpecification.lensDuration}}<span
                *ngIf="visionSpecification.lensDuration">/</span>{{visionSpecification.lensDurationUnitName}}</td>
            <td>{{visionSpecification.lensColor}}</td>
            <td>{{visionSpecification.lensBrand}}</td>
            <td>{{visionSpecification.prismAmount}}<span
                *ngIf="visionSpecification.prismAmount">/</span>{{visionSpecification.prismBaseName}}</td>
            <td class="actions text-center">
              <mat-menu #notesMenu="matMenu" class="primary-menu">
                <span *ngIf="visionSpecification.lensNote">{{visionSpecification.lensNote}}</span>
                <span *ngIf="!visionSpecification.lensNote">-</span>
              </mat-menu>
              <button mat-icon-button type="button" matTooltip="View Notes" class="text-primary"
                [matMenuTriggerFor]="notesMenu">
                <mat-icon class="material-icons-outlined">description</mat-icon>
              </button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>
<!-- Vision prescription end -->

<!-- Supporting Info start -->
<h5 class="form-title" *ngIf="data.supportingInfo.length > 0">
  Supporting Info
</h5>
<div class="table-responsive" *ngIf="data.supportingInfo.length > 0">
  <table class="primary-grid" cellpadding="0" cellspacing="0" border="0">
    <thead>
      <tr>
        <th>Sequence</th>
        <th>Category</th>
        <th>Code</th>
        <th>Timing</th>
        <th>Value</th>
        <th>Reason</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="data.supportingInfo.length === 0">
        <td colspan="6">
          <app-empty-state [className]="'size-sm'" message='No supporting info found!'></app-empty-state>
        </td>
      </tr>
      <ng-container *ngIf="data.supportingInfo.length > 0">
        <tr *ngFor="let s of data.supportingInfo">
          <td>
            {{s.sequence}}
          </td>
          <td>
            {{s.categoryName}}
          </td>
          <td>
            <!-- {{s.code}} <span *ngIf="s.codeName">- {{s.codeName}}</span> -->
            {{s.codeName}}
          </td>
          <td>
            <span *ngIf="!s.toDate">{{s.fromDateStr}}</span>
            <span *ngIf="s.toDate">{{s.fromDateStr}} - {{s.toDateStr}}</span>
          </td>
          <td>
            <span *ngIf="s.category=='attachment'">
              <!-- {{s.attachment}} -->
              <a href="#" title="View" class="primary-link" (click)="viewAttachment($event,s)">View</a>
            </span>
            <span *ngIf="s.category!='attachment'">
              {{s.value}} <span *ngIf="s.unit">{{s.unit}}</span>
            </span>
          </td>
          <td>
            {{s.reasonName}}
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
<!-- Supporting Info end -->

<!-- accident start -->
<h5 class="form-title" *ngIf="data.accident && data.accident.accidentTypeName && data.accident.date">
  Accident
</h5>
<div class="row" *ngIf="data.accident && data.accident.accidentTypeName && data.accident.date">
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Accident Type</div>
      <p class="form-control-static">{{data.accident.accidentTypeName}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Street Name</div>
      <p class="form-control-static">{{data.accident.streetName}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">City</div>
      <p class="form-control-static">{{data.accident.city}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">State/Province</div>
      <p class="form-control-static">{{data.accident.state}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Country</div>
      <p class="form-control-static">{{data.accident.country}}</p>
    </div>
  </div>
  <div class="col-4">
    <div class="form-group form-group-static">
      <div class="control-label">Date</div>
      <p class="form-control-static">{{data.accident.date}}</p>
    </div>
  </div>
</div>
<!-- accident end -->
