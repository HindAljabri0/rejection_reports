<div class="block-header has-border">
    <p>Credit Reports</p>
</div>
<div class="block-filter-panel">
    <div class="row small-gutter">
        <div class="col">
            <div class="form-group">
                <label class="control-label">Payer</label>
                <mat-form-field class="form-control custom-select-control">
                    <mat-select [(ngModel)]='creditReportSearchModel.payerId'>
                        <!-- <mat-option value="">Select Payer</mat-option> -->
                        <mat-option [value]="102">Tawuniya</mat-option>
                        <mat-option [value]="319">Bupa</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <label class="control-label">Received Date From</label>
                <div class="date-picker">
                    <input [matDatepicker]="fromDate" class="form-control" placeholder="Select from date" [(ngModel)]='creditReportSearchModel.receivedFromDate' />
                    <mat-datepicker-toggle [for]="fromDate"></mat-datepicker-toggle>
                    <mat-datepicker #fromDate></mat-datepicker>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <label class="control-label">Received Date To</label>
                <div class="date-picker">
                    <input [matDatepicker]="toDate" class="form-control" placeholder="Select to date" [(ngModel)]='creditReportSearchModel.receivedToDate' />
                    <mat-datepicker-toggle [for]="toDate"></mat-datepicker-toggle>
                    <mat-datepicker #toDate></mat-datepicker>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="form-group">
                <label class="control-label">Batch ID</label>
                <input class="form-control" placeholder="Enter batch ID" [(ngModel)]='creditReportSearchModel.batchId' />
            </div>
        </div>
        <div class="col-auto align-self-end">
            <div class="form-group">
                <button type="button" (click)="searchCreditReports()" mat-flat-button color="primary">Search</button>
            </div>
        </div>
    </div>
</div>
<div class="block-header text-all-claim ng-star-inserted">
    <button class="title-btn mat-button mat-button-base mat-primary ng-star-inserted active" color="primary" mat-button="" type="button">
        <span class="mat-button-wrapper"> All </span>
        <div class="mat-button-ripple mat-ripple" matripple=""></div>
        <div class="mat-button-focus-overlay"></div>
    </button>

    <button class="title-btn mat-button mat-button-base mat-primary" color="primary" mat-button="" type="button">
        <span class="mat-button-wrapper">New</span>
        <div class="mat-button-ripple mat-ripple" matripple=""></div>
        <div class="mat-button-focus-overlay"></div>
    </button>
    <button class="title-btn mat-button mat-button-base mat-primary" color="primary" mat-button="" type="button">
        <span class="mat-button-wrapper">Under Review</span>
        <div class="mat-button-ripple mat-ripple" matripple=""></div>
        <div class="mat-button-focus-overlay"></div>
    </button>

    <button class="title-btn mat-button mat-button-base mat-primary" color="primary" mat-button="" type="button">
        <span class="mat-button-wrapper">Under Submission</span>
        <div class="mat-button-ripple mat-ripple" matripple=""></div>
        <div class="mat-button-focus-overlay"></div>
    </button>

    <button class="title-btn mat-button mat-button-base mat-primary" color="primary" mat-button="" type="button">
        <span class="mat-button-wrapper">Submitted</span>
        <div class="mat-button-ripple mat-ripple" matripple=""></div>
        <div class="mat-button-focus-overlay"></div>
    </button>
    </div>
<div class="bg-white table-responsive">
    <table class="primary-grid" cellpadding="0" cellspacing="0" border="0">
        <thead>
            <tr>
                <!-- <th>Payer Name</th> -->
                <th>Received Date</th>
                <th>Batch Id</th>
                <th>Total Rejections Amount</th>
                <th>Medical Rejection ratio</th>
                <th>Technical Rejection ratio</th>
                <th>Remaining Days</th>
                <th>Progress Status</th>
                <th>Team Members</th>
            </tr>
        </thead>
        <tbody>
      
            <tr *ngFor="let item of creditReportData; let i=index" routerLink="/reports/creditReports/tawuniya/batch//{{item.batchId}}">
                <!-- <td class="semibold text-primary row-click">{{item.payerName}}</td> -->
                <td class="row-click">{{item.receivedDate | date : 'dd/MM/yyyy'}}</td>
                <td class="row-click">{{item.batchId}}</td>
                <td class="row-click">{{item.totalRejectionsAmount}}</td>
                <td class="row-click">{{item.medicalRejectionRatio}}</td>
                <td class="row-click">{{item.technicalRejectionRatio}}</td>

                <!-- Tawuniya -->
                <td class="row-click" *ngIf="creditReportSearchModel.payerId != 319">0 Days Remaining</td>

                <!-- Bupa -->
                <td class="row-click" *ngIf="creditReportSearchModel.payerId == 319">NA</td>

                <!-- Tawuniya -->
                <td class="row-click" *ngIf="creditReportSearchModel.payerId != 319">
                    <div class="status-text ball-red" *ngIf="i%4==0">New</div>
                    <div class="status-text ball-blue" *ngIf="i%4==1">Under Review</div>
                    <div class="status-text ball-brown" *ngIf="i%4==2">Under Submission</div>
                    <div class="status-text ball-green" *ngIf="i%4==3">Submitted</div>
                </td>

                <!-- Bupa -->
                <td class="row-click" *ngIf="creditReportSearchModel.payerId == 319">
                    <div class="status-text ball-red">New</div>
                </td>

                <!-- Tawuniya -->
                <td (click)="$event.stopPropagation()" *ngIf="creditReportSearchModel.payerId != 319">
                    <a href="#" (click)="$event.preventDefault()" class="primary-link" *ngIf="i==0" title="@Ahmed Al yosif">@Ahmed Al yosif</a>
                    <a href="#" (click)="$event.preventDefault()" class="primary-link" *ngIf="i==1" title="Assign To">Assign To</a>
                </td>

                <!-- Bupa -->
                <td (click)="$event.stopPropagation()" *ngIf="creditReportSearchModel.payerId == 319">
                    NA</td>
            </tr>
            <tr>
                <td colspan="9" class="p-0">
                    <app-empty-state *ngIf="creditReportData == null || creditReportData.length == 0" class="claim-list-empty-state" message='No reports found!'>
                    </app-empty-state>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div class="block-footer sticky-bottom" *ngIf="!isLoading">
    <div class="left-block custom-paginator" *ngIf="paginationControl != null && paginationControl.totalPages > 0">
        <button matRipple (click)="goToFirstPage()" type="button" title="First Page" [disabled]="paginationControl.currentIndex==0">
            <img src="./assets/ic-page-first.svg" alt="First" />
        </button>
        <button matRipple (click)="goToPrePage()" type="button" title="Previous Page" [disabled]="paginationControl.currentIndex==0">
            <img src="./assets/ic-page-prev.svg" alt="Previous" />
        </button>
        <p class="page-info">
            {{(paginationControl.currentIndex+1)}}<small>/{{paginationControl.totalPages}}</small>
        </p>
        <button matRipple (click)="goToNextPage()" type="button" title="Next Page" [disabled]="(paginationControl.currentIndex+1)==paginationControl.totalPages">
            <img src="./assets/ic-page-next.svg" alt="Next" />
        </button>
        <button matRipple (click)="goToLastPage()" type="button" title="Last Page" [disabled]="(paginationControl.currentIndex+1)==paginationControl.totalPages">
            <img src="./assets/ic-page-last.svg" alt="Last" />
        </button>
    </div>
</div>

<div class="file-upload-wrapper page-fab">
    <div class="content" *ngIf="creditReportSearchModel.payerId != 102">
        <button mat-fab color="primary" class="page-fab">
            <mat-icon>add</mat-icon>
        </button>
    </div>
    <input type="file" accept=".pdf" class="file-upload-control" (click)="clearFiles($event)" (change)="openPdf($event)" />

    <div class="custom-paginator ng-star-inserted">
        <div class="left-block">
            <div class="custom-paginator ng-star-inserted">
    <button class="mat-ripple" matripple="" title="First Page" type="button" disabled="">
        <img alt="First" src="./assets/ic-page-first.svg">
    </button>
    <button class="mat-ripple" matripple="" title="Previous Page" type="button" disabled="">
        <img alt="Previous" src="./assets/ic-page-prev.svg">
    </button>
    <p class="page-info"> 1<small>/1</small></p>
    <button class="mat-ripple" matripple="" title="Next Page" type="button" disabled="">
        <img alt="Next" src="./assets/ic-page-next.svg">
    </button>
    <button class="mat-ripple" matripple="" title="Last Page" type="button" disabled="">
        <img alt="Last" src="./assets/ic-page-last.svg">
    </button>
    </div>
        </div>
</div>

       